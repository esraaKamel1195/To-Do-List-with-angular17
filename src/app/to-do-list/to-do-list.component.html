<div class="container-panel">
  <div class="body">
    <div class="header" style="display: flex">
      <h1 class="title mt-3">To Do List</h1>
      <button
        mat-mini-fab
        class="mt-2"
        (click)="openDialog('2000ms', '1500ms')"
      >
        <mat-icon class="delete-btn">delete</mat-icon>
      </button>
    </div>

    <div class="spinner-container" *ngIf="loading">
      <mat-spinner></mat-spinner>
    </div>

    <div style="display: flex">
      <mat-form-field class="search-input" appearance="fill">
        <mat-label>Add item to list</mat-label>
        <input matInput #addItem placeholder="Add item to list" />
        <mat-hint *ngIf="ifItemExist" class="mt-2 mb-2" style="color: red"
          >Item already exist</mat-hint
        >
      </mat-form-field>

      <button mat-mini-fab class="ms-3 mt-2" (click)="onAddItem(addItem.value)">
        <mat-icon class="add-btn">add</mat-icon>
      </button>
    </div>

    <input [(ngModel)]="title" placeholder="New Todo" />
    <button (click)="add()">Add</button>
    <!-- <ul>
      <li *ngFor="let todo of todos$ | async" (click)="toggle(todo.id)">
        <label for="completed">completed</label>
        <input type="checkbox" id="completed" [checked]="todo.completed" />
        {{ todo.title }}
      </li>
    </ul> -->

    <div class="mt-3 mb-3">
      <app-card-for-items
        [items$]="todos$"
        (onDeleteItem)="onDeleteItem($event)"
      ></app-card-for-items>
    </div>
  </div>
</div>

<mat-paginator
  (page)="handlePageEvent($event)"
  [length]="length"
  [pageSize]="pageSize"
  [showFirstLastButtons]="showFirstLastButtons"
  [pageSizeOptions]="pageSizeOptions"
  [pageIndex]="pageIndex"
  aria-label="Select page"
  class="paginator"
>
</mat-paginator>
